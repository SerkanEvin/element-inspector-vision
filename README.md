Another upgrade to SMM structure. Credits to Lovable. 
